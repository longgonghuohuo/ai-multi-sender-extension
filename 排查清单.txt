╔══════════════════════════════════════════════════════════════╗
║                                                              ║
║        🔍 AI Multi Sender v2.1 - 5步排查清单                 ║
║                                                              ║
╚══════════════════════════════════════════════════════════════╝

【如果按钮点不了,按这个顺序检查】

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

步骤1: 重新加载扩展 ⚡
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. 打开 chrome://extensions/
2. 找到"AI Multi Sender"
3. 点击🔄刷新图标
4. 重新打开扩展

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

步骤2: 检查控制台 📊
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. 打开扩展
2. 按 F12 (或右键→检查)
3. 切换到"Console"标签
4. 查找这行:
   [初始化] ========== AI Multi Sender v2.1 初始化开始 ==========

✅ 看到了 → 继续步骤3
❌ 没看到 → 重新加载扩展(步骤1)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

步骤3: 检查初始化状态 ✓
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

在控制台中查找:

✅ 应该看到:
[初始化] ✅ Chrome API可用
[初始化] ✅ chrome.tabs API可用
[初始化] ✅ chrome.scripting API可用
[初始化] ✅ 所有函数绑定正常

❌ 如果看到:
[初始化] ❌ Chrome API不可用
   → 扩展没正确加载,重新安装

[初始化] ❌ chrome.tabs API不可用
   → 权限问题,检查manifest.json

[初始化] ❌ 部分函数绑定失败
   → simple.js加载失败,检查代码

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

步骤4: 测试按钮 🖱️
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. 在扩展中输入问题:"测试"
2. 点击"🚀 发送到所有AI"按钮
3. 看控制台输出

✅ 应该看到:
[调试] sendToAll 函数被调用了！
[调试] 输入的问题: 测试
[发送] 开始发送: 测试

❌ 如果没看到:
   → 按钮点击事件没有触发
   → 检查simple.html中的onclick="sendToAll()"
   → 确认函数名称正确

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

步骤5: 检查标签页打开 🌐
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ 应该看到:
[发送] 找到 0 个AI标签页
[发送] 没有找到AI标签页,正在自动打开...
[发送] ChatGPT标签页已创建: xxx
[发送] Gemini标签页已创建: xxx
[发送] Claude标签页已创建: xxx

然后看到3个新标签页打开!

❌ 如果没有打开:
   → 检查chrome.tabs.create权限
   → 查看控制台是否有错误

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【常见问题速查】

Q: 按钮点了没反应,控制台什么都没有
A: → 重新加载扩展 (步骤1)

Q: 控制台显示"Chrome API不可用"
A: → 重新安装扩展

Q: 控制台显示"chrome.tabs API不可用"  
A: → 检查manifest.json中的permissions

Q: 看到"函数被调用"但没有打开标签页
A: → 检查chrome.tabs.create权限
   → 查看是否有其他错误信息

Q: 标签页打开了但没填充问题
A: → 等待5秒(页面加载时间)
   → 检查AI网站是否已登录
   → 手动粘贴问题测试

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【快速测试命令】

在扩展的控制台中输入:

// 测试sendToAll函数是否存在
typeof window.sendToAll
// 应该返回: "function"

// 测试chrome.tabs API
typeof chrome.tabs
// 应该返回: "object"

// 手动调用发送函数
window.sendToAll()
// 应该提示"请先输入问题"

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

**按这5步检查,99%的问题都能找到原因!** 🎯

如果还是不行,把控制台的完整输出复制给我!
