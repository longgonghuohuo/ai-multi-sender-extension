# AI Multi Sender v2.0 å¼€å‘æ—¥å¿—

## ğŸ“… 2025-12-22

### âœ… å·²å®Œæˆçš„ä¿®æ”¹

#### 1. ç®€åŒ– UIï¼ˆæŒ‰ç”¨æˆ·è¦æ±‚ï¼‰
- **åˆ é™¤**: "å¹¶æ’çª—å£" å’Œ "æ–°æ ‡ç­¾é¡µ" ä¸¤ä¸ªæŒ‰é’®
- **ä¿ç•™**: åªæœ‰ä¸€ä¸ª "ğŸš€ å‘é€åˆ°æ‰€æœ‰AI" æŒ‰é’®
- **åˆ é™¤**: "ğŸ“‚ å…ˆæ‰“å¼€AI" æŒ‰é’®ï¼ˆä¸éœ€è¦é¢„å…ˆæ‰“å¼€ï¼‰
- **ä¿ç•™**: "âŒ å…³é—­æ‰€æœ‰çª—å£" æŒ‰é’®

#### 2. ç»Ÿä¸€å‘é€é€»è¾‘
- ç‚¹å‡» "å‘é€" â†’ ç›´æ¥åˆ›å»ºå¹¶æ’çª—å£ + è‡ªåŠ¨å¡«å……é—®é¢˜
- å¿«æ·é”® Ctrl+Enter â†’ åŒæ ·æ‰§è¡Œå¹¶æ’çª—å£å‘é€
- ä¸å†éœ€è¦ç”¨æˆ·æ‰‹åŠ¨é€‰æ‹©æ¨¡å¼

#### 3. ä¿®å¤æŒ‰é’®å“åº”é—®é¢˜
- åˆ é™¤äº†å†—ä½™çš„äº‹ä»¶ç›‘å¬å™¨
- ä½¿ç”¨ HTML onclick å±æ€§ç»‘å®š
- æ‰€æœ‰å‡½æ•°ç»‘å®šåˆ° window ä½œç”¨åŸŸ

### ğŸ¨ æ–°ç‰ˆ UI å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI Multi Sender                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’¬ è¾“å…¥ä½ çš„é—®é¢˜                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [è¾“å…¥æ¡†]                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â”‚
â”‚  [ğŸš€ å‘é€åˆ°æ‰€æœ‰AI]  [ğŸ—‘ï¸ æ¸…ç©º]    â”‚
â”‚                                    â”‚
â”‚  [âŒ å…³é—­æ‰€æœ‰çª—å£]                 â”‚
â”‚                                    â”‚
â”‚  å¿«æ·é”®: Ctrl + Enter å‘é€          â”‚
â”‚                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€ ğŸ“ å†å²æé—® â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ğŸ“¥ å¯¼å‡º]  [ğŸ—‘ï¸ æ¸…ç©º]              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å†å²è®°å½•åˆ—è¡¨...              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”§ æ ¸å¿ƒåŠŸèƒ½æµç¨‹

**ç”¨æˆ·æ“ä½œæµç¨‹**:
1. è¾“å…¥é—®é¢˜
2. ç‚¹å‡» "ğŸš€ å‘é€åˆ°æ‰€æœ‰AI" æˆ–æŒ‰ Ctrl+Enter
3. æ’ä»¶è‡ªåŠ¨ï¼š
   - åˆ›å»º 3 ä¸ªå¹¶æ’çª—å£ï¼ˆå·¦ï¼šChatGPTï¼Œä¸­ï¼šGeminiï¼Œå³ï¼šClaudeï¼‰
   - ç­‰å¾…é¡µé¢åŠ è½½å®Œæˆï¼ˆç›‘å¬ `tabs.onUpdated`ï¼‰
   - 1.5 ç§’åæ³¨å…¥è„šæœ¬å¡«å……é—®é¢˜
   - ä¿å­˜åˆ°å†å²è®°å½•
   - æ˜¾ç¤ºæˆåŠŸæç¤º

**æŠ€æœ¯å®ç°**:
```javascript
// 1. åˆ›å»ºçª—å£
chrome.windows.create({
  url: 'https://chatgpt.com/?model=gpt-4',
  type: 'popup',
  left: 0,
  top: 0,
  width: screenWidth / 3,
  height: screenHeight
});

// 2. ç›‘å¬åŠ è½½å®Œæˆ
chrome.tabs.onUpdated.addListener((tabId, info) => {
  if (info.status === 'complete') {
    // 3. æ³¨å…¥è„šæœ¬å¡«å……é—®é¢˜
    chrome.scripting.executeScript({
      target: { tabId },
      func: (text) => {
        // æŸ¥æ‰¾è¾“å…¥æ¡†å¹¶å¡«å……
        const input = document.querySelector('#prompt-textarea');
        if (input) {
          input.value = text;
          input.dispatchEvent(new Event('input', { bubbles: true }));
        }
      },
      args: [question]
    });
  }
});
```

### âš ï¸ å·²çŸ¥æ½œåœ¨é—®é¢˜

#### é—®é¢˜ 1: çª—å£å®šä½å¯èƒ½ä¸å‡†ç¡®
**åŸå› **: macOS å¯èƒ½æœ‰ Dock æ å æ®å±å¹•ç©ºé—´
**å½±å“**: çª—å£å¯èƒ½éƒ¨åˆ†è¢« Dock é®æŒ¡
**è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨ `screen.availHeight`ï¼ˆå·²å®ç°ï¼‰

#### é—®é¢˜ 2: å¡«å……å»¶è¿Ÿå¯èƒ½ä¸å¤Ÿ
**åŸå› **: ç½‘ç»œæ…¢æ—¶ï¼Œ1.5 ç§’å¯èƒ½ä¸è¶³ä»¥è®©é¡µé¢å®Œå…¨åŠ è½½
**å½±å“**: é—®é¢˜æœªå¡«å……æˆ–å¡«å……å¤±è´¥
**è§£å†³æ–¹æ¡ˆ**:
- å½“å‰å»¶è¿Ÿï¼š1.5 ç§’
- å¦‚æœå¤±è´¥ï¼Œå¯å¢åŠ åˆ° 3 ç§’
- æˆ–è€…æ·»åŠ é‡è¯•æœºåˆ¶

#### é—®é¢˜ 3: é€‰æ‹©å™¨å¯èƒ½è¿‡æ—¶
**åŸå› **: AI ç½‘ç«™é¢‘ç¹æ›´æ–° DOM ç»“æ„
**å½±å“**: æ— æ³•æ‰¾åˆ°è¾“å…¥æ¡†
**è§£å†³æ–¹æ¡ˆ**:
- ä½¿ç”¨å¤šä¸ªå¤‡ç”¨é€‰æ‹©å™¨ï¼ˆå·²å®ç°ï¼‰
- å®šæœŸç»´æŠ¤æ›´æ–°é€‰æ‹©å™¨

### ğŸ“‹ æµ‹è¯•æ£€æŸ¥æ¸…å•

ç”±äºæˆ‘æ— æ³•åœ¨å¼€å‘ç¯å¢ƒä¸­è¿è¡Œ Chrome æµè§ˆå™¨ï¼Œä»¥ä¸‹æ˜¯éœ€è¦ç”¨æˆ·æ‰‹åŠ¨æµ‹è¯•çš„é¡¹ç›®ï¼š

- [ ] **åŸºç¡€åŠŸèƒ½**: ç‚¹å‡»"å‘é€"æŒ‰é’®æ˜¯å¦æœ‰å“åº”
- [ ] **çª—å£åˆ›å»º**: æ˜¯å¦åˆ›å»ºäº† 3 ä¸ªçª—å£
- [ ] **çª—å£å®šä½**: çª—å£æ˜¯å¦æ­£ç¡®å¹¶æ’ï¼ˆå·¦ä¸­å³ï¼‰
- [ ] **çª—å£å¤§å°**: æ¯ä¸ªçª—å£æ˜¯å¦å å±å¹• 1/3 å®½åº¦
- [ ] **é—®é¢˜å¡«å……**: é—®é¢˜æ˜¯å¦è‡ªåŠ¨å¡«å……åˆ°å„çª—å£
- [ ] **å¡«å……å»¶è¿Ÿ**: æ˜¯å¦éœ€è¦æ›´é•¿çš„ç­‰å¾…æ—¶é—´
- [ ] **å†å²è®°å½•**: é—®é¢˜æ˜¯å¦è¢«ä¿å­˜åˆ°å†å²
- [ ] **å…³é—­çª—å£**: "å…³é—­æ‰€æœ‰çª—å£"æŒ‰é’®æ˜¯å¦å·¥ä½œ
- [ ] **æ¸…ç©ºè¾“å…¥**: "æ¸…ç©º"æŒ‰é’®æ˜¯å¦å·¥ä½œ
- [ ] **å¿«æ·é”®**: Ctrl+Enter æ˜¯å¦è§¦å‘å‘é€
- [ ] **å†å²å¯¼å‡º**: å¯¼å‡ºåŠŸèƒ½æ˜¯å¦æ­£å¸¸
- [ ] **å†å²ç‚¹å‡»**: ç‚¹å‡»å†å²è®°å½•æ˜¯å¦å¡«å……åˆ°è¾“å…¥æ¡†

### ğŸ› è°ƒè¯•å»ºè®®

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ‰“å¼€ Chrome DevTools (F12) å¹¶æ£€æŸ¥ï¼š

**Console æ—¥å¿—åº”è¯¥æ˜¾ç¤º**:
```
[å¹¶æ’çª—å£] ChatGPT çª—å£å·²åˆ›å»ºï¼ŒID: 123
[å¹¶æ’çª—å£] Gemini çª—å£å·²åˆ›å»ºï¼ŒID: 124
[å¹¶æ’çª—å£] Claude çª—å£å·²åˆ›å»ºï¼ŒID: 125
[å¹¶æ’çª—å£] ChatGPT é—®é¢˜å·²å¡«å……
[å¹¶æ’çª—å£] Gemini é—®é¢˜å·²å¡«å……
[å¹¶æ’çª—å£] Claude é—®é¢˜å·²å¡«å……
[å¹¶æ’çª—å£] æ‰€æœ‰çª—å£åˆ›å»ºå®Œæˆ
```

**å¦‚æœçœ‹åˆ°é”™è¯¯**:
- `æœªæ‰¾åˆ°è¾“å…¥æ¡†` â†’ é€‰æ‹©å™¨éœ€è¦æ›´æ–°
- `Permission denied` â†’ æƒé™é…ç½®é—®é¢˜
- `Cannot access chrome API` â†’ éœ€è¦åœ¨æ’ä»¶ç¯å¢ƒè¿è¡Œ

### ğŸ”„ å¦‚æœé—®é¢˜æœªå¡«å……çš„åº”æ€¥æ–¹æ¡ˆ

**æ–¹æ¡ˆ 1**: å¢åŠ å»¶è¿Ÿæ—¶é—´
```javascript
setTimeout(async () => {
  // å¡«å……ä»£ç 
}, 3000);  // ä» 1500 æ”¹ä¸º 3000
```

**æ–¹æ¡ˆ 2**: æ·»åŠ é‡è¯•æœºåˆ¶
```javascript
async function fillWithRetry(tabId, question, maxRetries = 3) {
  for (let i = 0; i < maxRetries; i++) {
    const result = await tryFill(tabId, question);
    if (result.success) return true;
    await sleep(1000);
  }
  return false;
}
```

**æ–¹æ¡ˆ 3**: ä½¿ç”¨ Content Scripts è€Œéæ³¨å…¥
- å½“å‰æ–¹æ¡ˆï¼šä½¿ç”¨ `chrome.scripting.executeScript` åŠ¨æ€æ³¨å…¥
- å¤‡é€‰æ–¹æ¡ˆï¼šä½¿ç”¨ç°æœ‰çš„ `content-*.js` æ–‡ä»¶é€šè¿‡ message passing

### ğŸ“ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. **ç”¨æˆ·æµ‹è¯•**: ç”¨æˆ·æ‰‹åŠ¨æµ‹è¯•æ‰€æœ‰åŠŸèƒ½
2. **æ”¶é›†åé¦ˆ**: è®°å½•å“ªäº›åŠŸèƒ½å·¥ä½œï¼Œå“ªäº›ä¸å·¥ä½œ
3. **é’ˆå¯¹æ€§ä¿®å¤**: æ ¹æ®åé¦ˆä¿®å¤å…·ä½“é—®é¢˜
4. **å†æ¬¡æµ‹è¯•**: éªŒè¯ä¿®å¤æ•ˆæœ
5. **å‡†å¤‡å‘å¸ƒ**: æ‰€æœ‰åŠŸèƒ½æ­£å¸¸åå‡†å¤‡å‘å¸ƒææ–™

### ğŸ“ åé¦ˆæ ¼å¼å»ºè®®

æµ‹è¯•æ—¶è¯·è®°å½•ï¼š
```
âœ… å·¥ä½œæ­£å¸¸: çª—å£åˆ›å»ºã€çª—å£å®šä½
âŒ æœ‰é—®é¢˜: é—®é¢˜æœªå¡«å……åˆ° ChatGPT
âš ï¸ éƒ¨åˆ†å·¥ä½œ: Gemini å¡«å……äº†ä½† Claude æ²¡æœ‰
```

è¿™æ ·æˆ‘å¯ä»¥å¿«é€Ÿå®šä½å¹¶ä¿®å¤é—®é¢˜ã€‚

---

**ç‰ˆæœ¬**: v2.0-beta
**æœ€åæ›´æ–°**: 2025-12-22
**çŠ¶æ€**: ç­‰å¾…ç”¨æˆ·æµ‹è¯•åé¦ˆ
