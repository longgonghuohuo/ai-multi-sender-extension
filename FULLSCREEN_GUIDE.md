# 全屏三栏模式使用指南

## 🎉 新版本特性

现在插件使用**全屏三栏布局**，类似 ChatHub！

### 界面布局

```
┌─────────────────────────────────────────────────────────┐
│  🤖 AI Multi Sender        [刷新] [清空] [🚀 发送]      │ ← 顶部工具栏
├─────────────────────────────────────────────────────────┤
│         │         │         │
│ ChatGPT │ Gemini  │ Claude  │ ← 三个 iframe 并排
│         │         │         │
│  (G)    │  (G)    │  (C)    │
│         │         │         │
├─────────────────────────────────────────────────────────┤
│  [在这里输入问题...]           [🚀 发送到所有AI]       │ ← 底部输入栏
└─────────────────────────────────────────────────────────┘
```

## ⚡ 快速开始

### 第一步：刷新插件

```bash
1. 打开 chrome://extensions/
2. 找到 "AI Multi Sender"
3. 点击刷新按钮 🔄
4. 确保版本号为 1.1
```

### 第二步：打开插件

```bash
# 方法一：点击图标
1. 点击浏览器工具栏的 AI Multi Sender 图标
2. 会自动打开一个新标签页
3. 显示全屏三栏界面

# 方法二：直接访问（可以收藏）
chrome-extension://[你的插件ID]/app.html
```

### 第三步：开始使用

```bash
1. 三个 iframe 会自动加载 ChatGPT、Gemini、Claude
2. 等待页面加载完成（看到各自的登录状态）
3. 在底部输入框输入问题
4. 点击"🚀 发送到所有AI"或按 Ctrl+Enter
5. 问题会自动填充到三个 AI 的输入框
```

## 🔥 核心优势

### 1. 真正的全屏模式
- ✅ 不是弹窗，是独立的全屏页面
- ✅ 可以收藏书签，随时打开
- ✅ 三个 AI 并排显示，方便对比

### 2. 统一输入框
- ✅ 只需输入一次
- ✅ 自动同步到三个 AI
- ✅ 支持快捷键 Ctrl+Enter

### 3. 无缝体验
- ✅ 三个 iframe 嵌入 AI 官网
- ✅ 保持原生体验
- ✅ 自动保持登录状态

## 📝 使用技巧

### 快捷键

| 快捷键 | 功能 |
|--------|------|
| `Ctrl + Enter` | 发送到所有 AI |
| `Cmd + Enter` | 发送到所有 AI (Mac) |
| `Ctrl + K` | 清空输入框 |

### 顶部按钮

| 按钮 | 功能 |
|------|------|
| 🔄 刷新 | 刷新所有三个 iframe |
| 🗑️ 清空 | 清空输入框内容 |
| 🚀 发送 | 发送到所有 AI |

### 工作原理

1. **iframe 显示**：
   - 左侧：ChatGPT (chatgpt.com)
   - 中间：Gemini (gemini.google.com)
   - 右侧：Claude (claude.ai)

2. **问题发送**：
   - 点击发送按钮
   - 插件查找所有打开的 AI 标签页
   - 通过 content script 填充输入框
   - 显示成功/失败提示

## ⚠️ 重要说明

### iframe 的局限性

**由于浏览器的同源策略限制，iframe 无法直接操作内部内容。**

因此，插件的工作方式是：

1. **显示层**：iframe 展示三个 AI 网页
2. **输入层**：底部统一输入框
3. **发送机制**：
   - 点击发送时，插件会查找浏览器中**所有已打开**的 AI 标签页
   - 通过 content script 填充问题到这些标签页
   - **不是**直接填充到 iframe 内部

### 最佳使用方式

**推荐方式（最流畅）：**

```bash
1. 打开插件的全屏页面（app.html）
2. 在 iframe 中登录三个 AI（只需登录一次）
3. 分别在新标签页打开三个 AI：
   - 新标签页：https://chatgpt.com
   - 新标签页：https://claude.ai
   - 新标签页：https://gemini.google.com
4. 在全屏页面输入问题，点击发送
5. 切换到各个标签页查看回答
6. 或者在 iframe 中直接查看（刷新后同步）
```

**为什么需要额外打开标签页？**
- iframe 由于安全限制，无法被 content script 访问
- 插件需要向独立的标签页发送消息
- 独立标签页可以被 content script 操作

## 🎯 两种使用模式

### 模式一：纯展示模式（仅 iframe）

**优点**：
- 界面简洁
- 三个 AI 并排对比
- 适合查看历史对话

**限制**：
- 无法使用一键发送功能
- 需要在每个 iframe 手动输入

### 模式二：混合模式（iframe + 独立标签页）✅ 推荐

**优点**：
- 可以使用一键发送
- iframe 展示 + 标签页操作
- 最佳用户体验

**使用方法**：
```bash
1. 保持全屏页面打开（查看对比）
2. 同时打开三个独立标签页（接收输入）
3. 在全屏页面输入问题
4. 问题自动发送到独立标签页
5. 在 iframe 或标签页查看回答
```

## 🐛 常见问题

### Q1: 为什么点击发送后 iframe 没有显示问题？

**A**: iframe 由于安全限制无法被直接操作。请：
1. 打开独立的 AI 标签页
2. 在全屏页面输入问题并发送
3. 切换到独立标签页查看（问题已填充）

### Q2: 如何快速访问全屏页面？

**A**:
```bash
1. 点击插件图标自动打开
2. 或收藏这个地址：
   chrome-extension://[插件ID]/app.html
3. 固定为标签页，随时使用
```

### Q3: iframe 加载很慢怎么办？

**A**:
1. 点击顶部的"刷新"按钮
2. 检查网络连接
3. 确保已登录各个 AI 服务

### Q4: 能否自动在 iframe 中填充问题？

**A**:
由于浏览器安全限制，无法直接操作 iframe 内部。
但你可以：
- 在 iframe 中手动操作
- 或使用独立标签页 + content script 自动填充

## 🎨 自定义

### 修改布局

编辑 `app.html` 的 CSS：

```css
/* 改变三栏比例 */
.main-content {
  grid-template-columns: 1fr 1.5fr 1fr; /* 中间更宽 */
}

/* 改变底部输入栏高度 */
.bottom-bar {
  height: 150px; /* 更高的输入区 */
}
```

### 修改主题颜色

```css
/* 改变主题色 */
.btn-primary {
  background: linear-gradient(135deg, #ff6b6b, #feca57);
}
```

## 📖 总结

**全屏三栏模式 = 展示层（iframe）+ 操作层（标签页）**

- **iframe**：用于并排对比查看
- **标签页**：用于接收输入和互动
- **底部输入框**：统一输入，一键分发

这样既能享受并排对比的视觉体验，又能使用自动填充的便利功能！

---

**提示**：第一次使用时，建议在 iframe 中登录所有 AI，然后保持该页面打开，配合独立标签页使用。

祝使用愉快！ 🚀
